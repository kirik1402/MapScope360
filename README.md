# MapScope360
Продукт MapScope360 представляет собой комплексное веб-приложение для визуализации панорамных изображений с привязкой к геолокации на интерактивной карте. Система позволяет пользователям просматривать панорамные изображения, извлекать и отображать их GPS-координаты, а также взаимодействовать с данными через удобный и интуитивно понятный интерфейс. Основное назначение продукта — дополнительный источник информации для ГИС-специалистов.
Ключевые компоненты
Обработка данных (Python):
Извлечение и обработка EXIF-данных: скрипты используются для извлечения GPS-координат из EXIF-данных изображений, конвертации их в удобный формат и сохранения в JSON-файл для последующего использования в веб-приложении;
Автоматизация: алгоритмы автоматизируют процесс извлечения кадров из видео, добавления GPS-данных к этим кадрам и создания кэша для быстрого доступа к этим данным в веб-приложении.
Серверная часть (PHP):
Загрузка данных: PHP скрипт загружает данные о кадрах из JSON-файла (frames_list.json), который содержит информацию о панорамных изображениях и их GPS-координатах;
Передача данных на клиент: Данные передаются в JavaScript для дальнейшей обработки и отображения на клиентской стороне.
Клиентская часть (HTML, CSS, JavaScript):
HTML: структура веб-страницы с контейнерами для панорамного просмотра и карты;
CSS: стилизация элементов страницы, включая панорамный просмотр, карту и пользовательский интерфейс (кнопки, маркеры);
JavaScript: Управление интерактивностью на странице:
Pannellum.js: Отображение панорамных изображений в виде 360° панорам с возможностью изменения угла обзора (yaw, pitch) и масштаба (hfov);
Leaflet.js: Отображение интерактивной карты с маркерами, представляющими GPS-координаты панорамных изображений. Маркеры кликабельны и позволяют переключаться между панорамами;
Работа с URL: Обновление параметров в URL для сохранения состояния текущей панорамы, что позволяет пользователям делиться ссылками на конкретные виды.

Используемые технологии
Python:
Библиотеки: PIL (Pillow), ExifTags, json, os, cv2 (OpenCV), piexif.
Основные задачи: обработка видео, извлечение фреймов, работа с EXIF-данными, автоматизация процесса кэширования данных.
PHP:
Загрузка и передача данных: обращение к JSON-файлу для генерации связки координаты-фрейм, передача данных на клиентскую сторону.
HTML/CSS/JavaScript:
Pannellum.js: просмотр панорам;
Leaflet.js: интерактивная карта, вывод подложки 2ГИС;
JavaScript: интерактивное управление панорамами и картой, работа с URL, обновление интерфейса на лету.
Функциональные возможности
Автоматизация обработки данных:
Извлечение и обработка EXIF-данных из изображений;
Автоматическое создание кэш-файла с координатами для быстрого доступа в веб-приложении.
Панорамный просмотр:
Загрузка панорамных изображений в формате 360°;
Изменение угла обзора (yaw, pitch) и зума (hfov) в реальном времени;
Сохранение состояния просмотра с возможностью делиться ссылками.
Интерактивная карта:
Отображение GPS-координат панорамных изображений на карте;
Переход между панорамами по клику на маркеры.
Заключение
Продукт представляет собой мощный инструмент для работы с панорамными изображениями и их привязкой к географическим координатам. Используемые технологии и библиотеки обеспечивают высокую интерактивность и удобство работы, а автоматизация обработки данных делает продукт масштабируемым и удобным для использования в различных городах/филиалах.
